<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Inputs · JuliaSoundWAvePropagation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">JuliaSoundWAvePropagation</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Forward simulation</span><ul><li class="is-active"><a class="tocitem" href>Inputs</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#.-dt"><span>1. dt</span></a></li><li class="toplevel"><a class="tocitem" href="#.-dx,-dy,-dz"><span>2. dx, dy, dz</span></a></li><li class="toplevel"><a class="tocitem" href="#.-nt"><span>3. nt</span></a></li><li class="toplevel"><a class="tocitem" href="#.-nx,-ny,-nz"><span>4. nx, ny, nz</span></a></li><li class="toplevel"><a class="tocitem" href="#.-X,Y,Z"><span>5. X,Y,Z</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Stiffness"><span>6. Stiffness</span></a></li><li class="toplevel"><a class="tocitem" href="#.-rho"><span>7. rho</span></a></li><li class="toplevel"><a class="tocitem" href="#.-inv_Qa"><span>8. inv_Qa</span></a></li><li class="toplevel"><a class="tocitem" href="#.-r1,-r2,-r3"><span>8. r1, r2, r3</span></a></li><li class="toplevel"><a class="tocitem" href="#.-s1,-s2,-s3"><span>9. s1, s2, s3</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Source-signals"><span>10. Source signals</span></a></li><li class="toplevel"><a class="tocitem" href="#.-r1t,-r2t,-r3t"><span>11. r1t, r2t, r3t</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Rm"><span>12. Rm</span></a></li><li class="toplevel"><a class="tocitem" href="#.-s1t,-s2t,-s3t"><span>13. s1t, s2t, s3t</span></a></li><li class="toplevel"><a class="tocitem" href="#.-lp"><span>14. lp</span></a></li><li class="toplevel"><a class="tocitem" href="#.-nPML"><span>15. nPML</span></a></li><li class="toplevel"><a class="tocitem" href="#.-Rc"><span>16. Rc</span></a></li><li class="toplevel"><a class="tocitem" href="#.-PML_active"><span>17. PML_active</span></a></li><li class="toplevel"><a class="tocitem" href="#.-path"><span>18. path</span></a></li><li class="toplevel"><a class="tocitem" href="#.-path_pic"><span>19. path_pic</span></a></li><li class="toplevel"><a class="tocitem" href="#.-path_model"><span>20. path_model</span></a></li><li class="toplevel"><a class="tocitem" href="#.-path_wavefield"><span>21. path_wavefield</span></a></li><li class="toplevel"><a class="tocitem" href="#.-path_rec"><span>22. path_rec</span></a></li><li class="toplevel"><a class="tocitem" href="#.-plot_interval"><span>23. plot_interval</span></a></li><li class="toplevel"><a class="tocitem" href="#.-wavefield_interval"><span>24. wavefield_interval</span></a></li></ul></li><li><a class="tocitem" href="../Outputs/">Outputs</a></li><li><a class="tocitem" href="../How_to_implement_forward/">How to implement</a></li><li><a class="tocitem" href="../Utilities/">Utilities</a></li></ul></li><li><a class="tocitem" href="../list_of_functions/">List of functions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Forward simulation</a></li><li class="is-active"><a href>Inputs</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Inputs</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/deconvolution/JSWAP/blob/master/docs/src/Inputs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Inputs"><a class="docs-heading-anchor" href="#Inputs">Inputs</a><a id="Inputs-1"></a><a class="docs-heading-anchor-permalink" href="#Inputs" title="Permalink"></a></h1><p>In JSWAP, all of the input parameters are assigned to a struct input2. The following input parameters are needed to run the simulation. Please go through one by one to check the input is correct.</p><h1 id=".-dt"><a class="docs-heading-anchor" href="#.-dt">1. dt</a><a id=".-dt-1"></a><a class="docs-heading-anchor-permalink" href="#.-dt" title="Permalink"></a></h1><p>Explanation: Time interval.</p><p>Type: Float64.</p><p>Dimension: [].</p><p>Example:</p><pre><code class="nohighlight hljs">input2.dt=10.0^-3;</code></pre><h1 id=".-dx,-dy,-dz"><a class="docs-heading-anchor" href="#.-dx,-dy,-dz">2. dx, dy, dz</a><a id=".-dx,-dy,-dz-1"></a><a class="docs-heading-anchor-permalink" href="#.-dx,-dy,-dz" title="Permalink"></a></h1><p>Explanation: Grid spacing in the x, y and z directions.</p><p>Type: Float64.</p><p>Dimension: [].</p><p>Example:</p><pre><code class="nohighlight hljs">input2.dx=10.0;
input2.dy=10.0;
input2.dz=10.0;</code></pre><h1 id=".-nt"><a class="docs-heading-anchor" href="#.-nt">3. nt</a><a id=".-nt-1"></a><a class="docs-heading-anchor-permalink" href="#.-nt" title="Permalink"></a></h1><p>Explanation: Time interval.</p><p>Type: Float64.</p><p>Dimension: [].</p><p>Example:</p><pre><code class="nohighlight hljs">input2.nt=10.0^3;</code></pre><h1 id=".-nx,-ny,-nz"><a class="docs-heading-anchor" href="#.-nx,-ny,-nz">4. nx, ny, nz</a><a id=".-nx,-ny,-nz-1"></a><a class="docs-heading-anchor-permalink" href="#.-nx,-ny,-nz" title="Permalink"></a></h1><p>Explanation: Grid points in the x, y and z directions.</p><p>Type: Int32.</p><p>Dimension: [].</p><pre><code class="nohighlight hljs">input2.nx=80;
input2.ny=80;
input2.nz=90;</code></pre><h1 id=".-X,Y,Z"><a class="docs-heading-anchor" href="#.-X,Y,Z">5. X,Y,Z</a><a id=".-X,Y,Z-1"></a><a class="docs-heading-anchor-permalink" href="#.-X,Y,Z" title="Permalink"></a></h1><p>Explanation: 3D true coordinate of the model.</p><p>Type: Float or Int.</p><p>Dimension: [nx, ny, nz]</p><p>Example:</p><pre><code class="nohighlight hljs">input2.Y,input2.X,input2.Z=JSWAP.meshgrid(1:80,1:80,1:90);</code></pre><h1 id=".-Stiffness"><a class="docs-heading-anchor" href="#.-Stiffness">6. Stiffness</a><a id=".-Stiffness-1"></a><a class="docs-heading-anchor-permalink" href="#.-Stiffness" title="Permalink"></a></h1><p>Explanation: Lame constants, &amp;lambda; and &amp;mu or stiffness matrix (Cij). Either of them is required for input.</p><p>Type: Float64.</p><p>Dimension: [nx, ny, nz].</p><p>Example:</p><pre><code class="nohighlight hljs"># Lame constants for isotropic media
input2.lambda=ones(80,80,90)*10^9*1.0;
input2.mu=ones(80,80,90)*10^9*1.0;

# Stiffness matrix for anisotropic media
input2.C11=ones(80,80,90)*10^9*3.0;
input2.C12=ones(80,80,90)*10^9*1.0;
input2.C13=ones(80,80,90)*10^9*1.0;
input2.C14=ones(80,80,90)*10^9*0;
input2.C15=ones(80,80,90)*10^9*0;
input2.C16=ones(80,80,90)*10^9*.5;
input2.C22=ones(80,80,90)*10^9*3.0;
input2.C23=ones(80,80,90)*10^9*1.0;
input2.C24=ones(80,80,90)*10^9*0;
input2.C25=ones(80,80,90)*10^9*0;
input2.C26=ones(80,80,90)*10^9*.5;
input2.C33=ones(80,80,90)*10^9*3.0;
input2.C34=ones(80,80,90)*10^9*0;
input2.C35=ones(80,80,90)*10^9*0;
input2.C36=ones(80,80,90)*10^9*0;
input2.C44=ones(80,80,90)*10^9*1.0;
input2.C45=ones(80,80,90)*10^9*0;
input2.C46=ones(80,80,90)*10^9*0;
input2.C55=ones(80,80,90)*10^9*1.0;
input2.C56=ones(80,80,90)*10^9*0;
input2.C66=ones(80,80,90)*10^9*1.0;
</code></pre><h1 id=".-rho"><a class="docs-heading-anchor" href="#.-rho">7. rho</a><a id=".-rho-1"></a><a class="docs-heading-anchor-permalink" href="#.-rho" title="Permalink"></a></h1><p>Explanation: Density.</p><p>Type: Float64.</p><p>Dimension: [nx, ny, nz].</p><p>Example:</p><pre><code class="nohighlight hljs">input2.rho=ones(80,80,90)*1000.0;</code></pre><h1 id=".-inv_Qa"><a class="docs-heading-anchor" href="#.-inv_Qa">8. inv_Qa</a><a id=".-inv_Qa-1"></a><a class="docs-heading-anchor-permalink" href="#.-inv_Qa" title="Permalink"></a></h1><p>Explanation: Apparent attenuation.</p><p>Type: Float64.</p><p>Dimension: [nx, ny, nz].</p><p>Example:</p><pre><code class="nohighlight hljs">input2.inv_Qa=ones(80,80,90)*0.0;</code></pre><h1 id=".-r1,-r2,-r3"><a class="docs-heading-anchor" href="#.-r1,-r2,-r3">8. r1, r2, r3</a><a id=".-r1,-r2,-r3-1"></a><a class="docs-heading-anchor-permalink" href="#.-r1,-r2,-r3" title="Permalink"></a></h1><p>Explanation: Grid locations of receivers in the x, y and z directions.</p><p>Type: Int32.</p><p>Dimension: Each of them is a 2-dimensional matrix, with the first direction to be 1 and the second direction as the number of receiver numbers.</p><p>Here is an example of 50 receivers.</p><pre><code class="nohighlight hljs">input2.r1=zeros(Int32,1,50);
input2.r1[:]=30:79;

input2.r2=zeros(Int32,1,50);
input2.r2[:]=30:79;

input2.r3=zeros(Int32,1,50);
input2.r3 .=15;</code></pre><h1 id=".-s1,-s2,-s3"><a class="docs-heading-anchor" href="#.-s1,-s2,-s3">9. s1, s2, s3</a><a id=".-s1,-s2,-s3-1"></a><a class="docs-heading-anchor-permalink" href="#.-s1,-s2,-s3" title="Permalink"></a></h1><p>Explanation: Grid locations of sources in the x, y and z directions.</p><p>Type: Int32.</p><p>Dimension: Each of them is a 2-dimensional matrix, with the first direction to be 1 and the second direction as the number of receiver numbers.</p><p>Here is an example of 2 sources.</p><pre><code class="nohighlight hljs">input2.s1=zeros(Int32,1,2);
input2.s1[:] =[60 60];

input2.s2=zeros(Int32,1,2);
input2.s2[:] =[49 51];

input2.s3=zeros(Int32,1,2);
input2.s3[:] =[49 51];</code></pre><h1 id=".-Source-signals"><a class="docs-heading-anchor" href="#.-Source-signals">10. Source signals</a><a id=".-Source-signals-1"></a><a class="docs-heading-anchor-permalink" href="#.-Source-signals" title="Permalink"></a></h1><p>Explanation: Source signal in each component. The source can be either directional source, P-wave source or moment-tensor source. There are 2 options:</p><ul><li>If one chooses directional source and P-wave source, the input is supposed to be input2.src1, input2.src2, input2.src3 and input2.srcp, corresponding to the source signals in the x, y, z directions and the P-wave components.</li><li>If moment tensor source is wanted, M11, M22, M33, M23, M13 and M12 are desired.</li></ul><p>Type: Float64.</p><p>Dimensions: [nt, number of sources].</p><h1 id=".-r1t,-r2t,-r3t"><a class="docs-heading-anchor" href="#.-r1t,-r2t,-r3t">11. r1t, r2t, r3t</a><a id=".-r1t,-r2t,-r3t-1"></a><a class="docs-heading-anchor-permalink" href="#.-r1t,-r2t,-r3t" title="Permalink"></a></h1><p>Explanation: Receiver true locations in the x, y and z directions.</p><p>Type: Int32 or Float64.</p><p>Dimension: [1, number of receivers].</p><p>Example of computation true locations based on above information.</p><pre><code class="nohighlight hljs">input2.r1t=input2.r1*input2.dx;
input2.r2t=input2.r2*input2.dy;
input2.r3t=input2.r3*input2.dz;</code></pre><h1 id=".-Rm"><a class="docs-heading-anchor" href="#.-Rm">12. Rm</a><a id=".-Rm-1"></a><a class="docs-heading-anchor-permalink" href="#.-Rm" title="Permalink"></a></h1><p>Explanation: One can mute some receivers with this option. 0 - mute, 1 - unmute.</p><p>Type: Int32 or Float64.</p><p>Dimension: [number of receivers, component].</p><p>Component: 1 - x component, 2 - y component, 3 - z component, 4 - pressure component.</p><p>If one does not want to mute any receivers, then</p><pre><code class="nohighlight hljs">input2.Rm=ones(length(input2.r3),4);</code></pre><h1 id=".-s1t,-s2t,-s3t"><a class="docs-heading-anchor" href="#.-s1t,-s2t,-s3t">13. s1t, s2t, s3t</a><a id=".-s1t,-s2t,-s3t-1"></a><a class="docs-heading-anchor-permalink" href="#.-s1t,-s2t,-s3t" title="Permalink"></a></h1><p>Explanation: Source true locations in the x, y and z directions.</p><p>Type: Int32 or Float64.</p><p>Dimension: [1, number of sources].</p><p>Here is an example of 50 receivers.</p><pre><code class="nohighlight hljs">input2.s1t=input2.s1*input2.dx;
input2.s2t=input2.s2*input2.dy;
input2.s3t=input2.s3*input2.dz;</code></pre><h1 id=".-lp"><a class="docs-heading-anchor" href="#.-lp">14. lp</a><a id=".-lp-1"></a><a class="docs-heading-anchor-permalink" href="#.-lp" title="Permalink"></a></h1><p>Explanation: PML layers.</p><p>Type: Int32.</p><p>Dimension: [].</p><p>For a 10 layer PML,</p><pre><code class="nohighlight hljs">input2.lp=10;</code></pre><h1 id=".-nPML"><a class="docs-heading-anchor" href="#.-nPML">15. nPML</a><a id=".-nPML-1"></a><a class="docs-heading-anchor-permalink" href="#.-nPML" title="Permalink"></a></h1><p>Explanation: power of PML, normally 2.</p><p>Type: Int32.</p><p>Dimension: [].</p><p>Example:</p><pre><code class="nohighlight hljs">input2.nPML=2;</code></pre><h1 id=".-Rc"><a class="docs-heading-anchor" href="#.-Rc">16. Rc</a><a id=".-Rc-1"></a><a class="docs-heading-anchor-permalink" href="#.-Rc" title="Permalink"></a></h1><p>Explanation: PML theoretical reflection coefficient.</p><p>Type: Float64.</p><p>Dimension: [].</p><p>Some common coefficients:</p><table><tr><th style="text-align: right">PML layers (lp)</th><th style="text-align: right">Rc</th></tr><tr><td style="text-align: right">10</td><td style="text-align: right">10.0^-1</td></tr><tr><td style="text-align: right">20</td><td style="text-align: right">10.0^-2</td></tr><tr><td style="text-align: right">30</td><td style="text-align: right">10.0^-3</td></tr><tr><td style="text-align: right">40</td><td style="text-align: right">10.0^-4</td></tr></table><p>Example:</p><pre><code class="nohighlight hljs">input2.Rc=.1;</code></pre><h1 id=".-PML_active"><a class="docs-heading-anchor" href="#.-PML_active">17. PML_active</a><a id=".-PML_active-1"></a><a class="docs-heading-anchor-permalink" href="#.-PML_active" title="Permalink"></a></h1><p>Explanation: One can set if PML at one edge is working. Each element of the 1 by 6 matrix means if the PML is activated on the edge in an order of xminus, xplus, yminus, yplus, zminus, zplus. &quot;0&quot; is deactivated and &quot;1&quot; is activated.</p><p>Type: Float64.</p><p>Dimension: [1, 6].</p><p>Example for only zminus PML is deactivated:</p><pre><code class="nohighlight hljs">input2.PML_active=[1 1 1 1 0 1];</code></pre><h1 id=".-path"><a class="docs-heading-anchor" href="#.-path">18. path</a><a id=".-path-1"></a><a class="docs-heading-anchor-permalink" href="#.-path" title="Permalink"></a></h1><p>Explanation: Path of master branch on where to store the wavefield vtk and wavefield mat file. This must be a parent path of path<em>pic, path</em>model and path<em>wavefield, path</em>rec.</p><p>Type: String.</p><p>Dimension: NA.</p><pre><code class="nohighlight hljs">input2.path=p3;</code></pre><h1 id=".-path_pic"><a class="docs-heading-anchor" href="#.-path_pic">19. path_pic</a><a id=".-path_pic-1"></a><a class="docs-heading-anchor-permalink" href="#.-path_pic" title="Permalink"></a></h1><p>Explanation: Path to store wavefield snapshot vtk file. If one assign it &quot;nothing&quot;, then no wavefield snapshot will be saved.</p><p>Type: String.</p><p>Dimension: NA.</p><pre><code class="nohighlight hljs">input2.path_pic=string(input2.path,&quot;/pic&quot;);
input2.path_pic=nothing;</code></pre><h1 id=".-path_model"><a class="docs-heading-anchor" href="#.-path_model">20. path_model</a><a id=".-path_model-1"></a><a class="docs-heading-anchor-permalink" href="#.-path_model" title="Permalink"></a></h1><p>Explanation: Path to store the model, including material parameters and source and receiver locations.</p><p>Type: String.</p><p>Dimension: NA.</p><pre><code class="nohighlight hljs">input2.path_model=string(input2.path,&quot;/model&quot;);</code></pre><h1 id=".-path_wavefield"><a class="docs-heading-anchor" href="#.-path_wavefield">21. path_wavefield</a><a id=".-path_wavefield-1"></a><a class="docs-heading-anchor-permalink" href="#.-path_wavefield" title="Permalink"></a></h1><p>Explanation: Path to store mat wavefield. No wavefield matfile will be stored if path_wavefield is &quot;nothing&quot;.</p><p>Type: String.</p><p>Dimension: NA.</p><pre><code class="nohighlight hljs">input2.path_wavefield=string(input2.path,&quot;/wavefield&quot;);</code></pre><h1 id=".-path_rec"><a class="docs-heading-anchor" href="#.-path_rec">22. path_rec</a><a id=".-path_rec-1"></a><a class="docs-heading-anchor-permalink" href="#.-path_rec" title="Permalink"></a></h1><p>Explanation: Path to store recordings.</p><p>Type: String.</p><p>Dimension: NA.</p><pre><code class="nohighlight hljs">input2.path_rec=string(input2.path,&quot;/rec&quot;);</code></pre><h1 id=".-plot_interval"><a class="docs-heading-anchor" href="#.-plot_interval">23. plot_interval</a><a id=".-plot_interval-1"></a><a class="docs-heading-anchor-permalink" href="#.-plot_interval" title="Permalink"></a></h1><p>Explanation: Plot frequency/interval of vtk file. &quot;0&quot; for saving nothing.</p><p>Type: Int32.</p><p>Dimension: [].</p><pre><code class="nohighlight hljs">input2.plot_interval=100;</code></pre><h1 id=".-wavefield_interval"><a class="docs-heading-anchor" href="#.-wavefield_interval">24. wavefield_interval</a><a id=".-wavefield_interval-1"></a><a class="docs-heading-anchor-permalink" href="#.-wavefield_interval" title="Permalink"></a></h1><p>Explanation: How frequent the wavefield is saved. &quot;0&quot; for saving nothing.</p><p>Type: Int32.</p><p>Dimension: [].</p><pre><code class="nohighlight hljs">input2.wavefield_interval=0;</code></pre><p>An example of input file is given <a href="https://github.com/deconvolution/JSWAP/blob/main/examples/template/input_template.jl">here</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../Outputs/">Outputs »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.5 on <span class="colophon-date" title="Wednesday 13 October 2021 14:21">Wednesday 13 October 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
